<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Kinggame</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: #0a0a0a;
      color: white;
      display: flex;
      flex-direction: column;
      align-items: center;
      height: 100vh;
      overflow: hidden;
    }
    header {
      background: #111;
      padding: 10px;
      width: 100%;
      display: flex;
      justify-content: center;
      gap: 15px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.5);
    }
    button {
      background: #222;
      color: white;
      border: 1px solid #333;
      padding: 8px 16px;
      cursor: pointer;
      font-size: 16px;
      transition: 0.3s;
    }
    button:hover {
      background: #444;
    }
    canvas {
      background: #000;
      margin-top: 15px;
    }
    #fullscreen {
      position: fixed;
      bottom: 15px;
      right: 15px;
      background: #333;
      padding: 8px 12px;
      border: none;
      border-radius: 6px;
    }
  </style>
</head>
<body>
  <header>
    <button onclick="showGame('snake')">Snake</button>
    <button onclick="showGame('tetris')">Tetris</button>
    <button onclick="showGame('flappy')">Flappy Bird</button>
  </header>

  <canvas id="gameCanvas" width="400" height="400"></canvas>
  <button id="fullscreen" onclick="goFullscreen()">â›¶</button>

  <script>
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    let currentGame = 'snake';
    let interval;

    // Fullscreen
    function goFullscreen() {
      if (canvas.requestFullscreen) canvas.requestFullscreen();
      else if (canvas.webkitRequestFullscreen) canvas.webkitRequestFullscreen();
    }

    // --- Snake Game ---
    function snakeGame() {
      let box = 20;
      let snake = [{x: 200, y: 200}];
      let food = {x: 100, y: 100};
      let dx = box;
      let dy = 0;

      document.onkeydown = (e) => {
        if (e.key === 'ArrowUp' && dy === 0) {dx=0;dy=-box;}
        else if (e.key === 'ArrowDown' && dy === 0) {dx=0;dy=box;}
        else if (e.key === 'ArrowLeft' && dx === 0) {dx=-box;dy=0;}
        else if (e.key === 'ArrowRight' && dx === 0) {dx=box;dy=0;}
      };

      interval = setInterval(() => {
        ctx.fillStyle = "#000";
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        for (let s of snake) {
          ctx.fillStyle = "#0f0";
          ctx.fillRect(s.x, s.y, box-2, box-2);
        }
        ctx.fillStyle = "#f00";
        ctx.fillRect(food.x, food.y, box, box);

        let head = {x: snake[0].x + dx, y: snake[0].y + dy};
        if (head.x === food.x && head.y === food.y) {
          food.x = Math.floor(Math.random()*20)*box;
          food.y = Math.floor(Math.random()*20)*box;
        } else {
          snake.pop();
        }
        if (head.x<0||head.x>=400||head.y<0||head.y>=400||snake.some(s=>s.x===head.x&&s.y===head.y)){
          clearInterval(interval);
          showGame('snake');
          return;
        }
        snake.unshift(head);
      }, 100);
    }

    // --- Tetris (simple block drop) ---
    function tetrisGame() {
      let y = 0;
      interval = setInterval(() => {
        ctx.fillStyle = "#000";
        ctx.fillRect(0, 0, 400, 400);
        ctx.fillStyle = "#09f";
        ctx.fillRect(180, y, 40, 40);
        y += 5;
        if (y > 360) y = 0;
      }, 50);
    }

    // --- Flappy Bird ---
    function flappyGame() {
      let birdY = 200;
      let gravity = 2;
      let velocity = 0;
      let pipes = [{x: 400, y: Math.random()*200+100}];
      document.onkeydown = () => { velocity = -20; };

      interval = setInterval(() => {
        ctx.fillStyle = "#000";
        ctx.fillRect(0, 0, 400, 400);

        velocity += gravity;
        birdY += velocity;
        ctx.fillStyle = "yellow";
        ctx.fillRect(50, birdY, 20, 20);

        for (let pipe of pipes) {
          ctx.fillStyle = "green";
          ctx.fillRect(pipe.x, 0, 50, pipe.y-60);
          ctx.fillRect(pipe.x, pipe.y+60, 50, 400);
          pipe.x -= 5;
        }

        if (pipes[0].x < -50) pipes.shift(), pipes.push({x: 400, y: Math.random()*200+100});
        if (birdY > 400 || birdY < 0) {
          clearInterval(interval);
          showGame('flappy');
        }
      }, 50);
    }

    // --- Game Switcher ---
    function showGame(game) {
      clearInterval(interval);
      currentGame = game;
      if (game === 'snake') snakeGame();
      else if (game === 'tetris') tetrisGame();
      else if (game === 'flappy') flappyGame();
    }

    // Start default
    showGame('snake');
  </script>
</body>
</html>